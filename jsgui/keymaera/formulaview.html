<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
  <meta charset="utf-8" />
  <script src="http://localhost:4000/jss/jquery-1.8.3.min.js" charset="utf-8"></script>
  <style>
	.hl {background: transparent; }
	.hlhover { background:#00aaaa; }
  </style>
</head>
<body>

	<!-- entries -->
	
	<div class="row">
      <div class="large-9 columns">
      	<h1>Formula</h1>
      	<div id="formula">
      	</div>
      	<script>
		$.getJSON("resources/test.json", function(data) {
			console.log(data);
			document.getElementById("formula").innerHTML=handle(data);
		});

		function handle(json) {
		  var items = [];
		  if(json.name == "imply") {
			  var c = json.children;
			  if($.isArray(c)) {
				  var left = handle(c[0]);
				  var right = handle(c[1]);
				  items.push("<span onmouseover=\"$(event.target).addClass('hlhover');\" onmouseout=\"$(event.target).removeClass('hlhover');\" class='hl' id='" + json.id + "'>" + left + " -&gt; " + right + "</span>");
			  }
		  } else {
			  items.push("<span onmouseover=\"$(event.target).addClass('hlhover');\" onmouseout=\"$(event.target).removeClass('hlhover');\" class='hl' id='" + json.id + "'>" + json.name + "</span>");
		  }
		  return items.join("");
		}
      	</script>
      	
      </div>
    </div>
</body>
</html>
